<div class="flex flex-col h-full">
  <mat-progress-bar [value]="100 * currentPage/pages.length"></mat-progress-bar>
  <div class="toolbar shadow-md">
    <button id="menu-toggle" (click)="toggleSideNav()">
      <span class="material-icons text-white">
        menu
      </span>
    </button>

    <h1 class="flex-1 font-semibold text-2xl" style="margin: 0;">{{pages[currentPage-1].title}}</h1>

    <div class="text-2xl">
      <b class="text-blue">{{currentPage}}</b>
      <span>/</span>
      <b class="text-blue">{{pages.length}}</b>
    </div>

    <div class="controls none md:block">
      <button [disabled]="currentPage == 1" (click)="currentPage = currentPage-1">
        <span class="material-icons">
          arrow_back_ios_new
        </span>
      </button>

      <button [disabled]="currentPage == pages.length" (click)="currentPage = currentPage+1">
        <span class="material-icons">
          arrow_forward_ios
        </span>
      </button>

      <button *ngIf="!isFullscreen; else exitFullscreenBtn" aria-label="Fullscreen" title="Fullscreen"
        (click)="toggleFullscreen()">
        <span class="material-icons">
          zoom_out_map
        </span>
      </button>

      <ng-template #exitFullscreenBtn>
        <button title="Exit Fullscreen" aria-label="Exit Fullscreen" (click)="toggleFullscreen()">
          <span class="material-icons">
            close_fullscreen
          </span>
        </button>
      </ng-template>
    </div>
  </div>

  <mat-sidenav-container class="flex-1">
    <mat-sidenav mode="push" [(opened)]="isSideNavOpen">
      <ul>
        <li *ngFor="let page of pages, let index=index">
          <a [class.active]="currentPage == index+1" (click)="currentPage = index+1">
            <span style="white-space: nowrap; text-overflow: ellipsis; overflow: hidden;">{{page.title}}</span>
          </a>
        </li>
      </ul>
    </mat-sidenav>

    <mat-sidenav-content>
      <app-content-viewport class="h-full" [pages]="pages" [page]="currentPage"></app-content-viewport>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>